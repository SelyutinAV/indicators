<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Система управления показателями{% endblock %}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'indicators/css/style.css' %}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <div class="container">
        <!-- Левая навигация -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>Показатели</h1>
            </div>
            <nav class="sidebar-nav">
                <a href="{% url 'indicators:index' %}" class="nav-item {% if request.resolver_match.url_name == 'index' %}active{% endif %}">
                    <span class="nav-text">Реестр показателей</span>
                </a>
                <a href="{% url 'indicators:indicator_create' %}" class="nav-item {% if request.resolver_match.url_name == 'indicator_create' %}active{% endif %}">
                    <span class="nav-text">Создать показатель</span>
                </a>
                <a href="{% url 'indicators:units_list' %}" class="nav-item {% if request.resolver_match.url_name == 'units_list' %}active{% endif %}">
                    <span class="nav-text">Единицы измерения</span>
                </a>
            </nav>
        </aside>

        <!-- Основной контент -->
        <main class="main-content">
            <!-- Верхний хедер -->
            <header class="top-header">
                <div class="top-header-content">
                    <h1 class="page-title">{% block page_title %}Главная{% endblock %}</h1>
                    <div class="top-header-right">
                        <a href="/admin/" class="admin-link" target="_blank" title="Админ-панель">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 15.5C10.07 15.5 8.5 13.93 8.5 12C8.5 10.07 10.07 8.5 12 8.5C13.93 8.5 15.5 10.07 15.5 12C15.5 13.93 13.93 15.5 12 15.5ZM19.43 12.97C19.47 12.65 19.5 12.33 19.5 12C19.5 11.67 19.47 11.34 19.43 11.03L21.54 9.37C21.73 9.22 21.78 8.95 21.66 8.73L19.66 5.27C19.54 5.05 19.27 4.96 19.05 5.05L16.56 6.05C16.04 5.66 15.5 5.32 14.87 5.07L14.49 2.42C14.46 2.18 14.25 2 14 2H10C9.75 2 9.54 2.18 9.51 2.42L9.13 5.07C8.5 5.32 7.96 5.66 7.44 6.05L4.95 5.05C4.73 4.96 4.46 5.05 4.34 5.27L2.34 8.73C2.21 8.95 2.27 9.22 2.46 9.37L4.57 11.03C4.53 11.34 4.5 11.67 4.5 12C4.5 12.33 4.53 12.65 4.57 12.97L2.46 14.63C2.27 14.78 2.21 15.05 2.34 15.27L4.34 18.73C4.46 18.95 4.73 19.03 4.95 18.95L7.44 17.94C7.96 18.34 8.5 18.68 9.13 18.93L9.51 21.58C9.54 21.82 9.75 22 10 22H14C14.25 22 14.46 21.82 14.49 21.58L14.87 18.93C15.5 18.67 16.04 18.34 16.56 17.94L19.05 18.95C19.27 19.03 19.54 18.95 19.66 18.73L21.66 15.27C21.78 15.05 21.73 14.78 21.54 14.63L19.43 12.97Z" fill="currentColor"/>
                            </svg>
                        </a>
                        <div class="user-info">
                            {% if user.is_authenticated %}
                                <span class="user-name">{{ user.get_full_name|default:user.username }}</span>
                            {% else %}
                                <span class="user-name">Гость</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </header>

            <!-- Сообщения -->
            {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <div class="message message-{{ message.tags }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}

            <!-- Контент страницы -->
            <div class="content-body">
                {% block content %}{% endblock %}
            </div>
        </main>
    </div>

    {% block extra_js %}{% endblock %}
</body>
</html>

